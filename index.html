<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HI, IM PUDIE!</title>

<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* ===== BACKGROUND (UPDATED RGB GAMING) ===== */
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;

    background: linear-gradient(
        270deg,
        #020617,
        #003f2d,
        #00ff66,
        #00ffff,
        #003f2d,
        #020617
    );
    background-size: 600% 600%;
    animation: rgbBackground 20s ease infinite;

    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
}

/* RGB BACKGROUND ANIMATION */
@keyframes rgbBackground {
    0%   { background-position: 0% 50%; }
    50%  { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* ===== CARD ===== */
.container {
    background: #020617;
    border-radius: 20px;
    box-shadow: 0 0 40px rgba(0,255,102,0.25);
    padding: 30px;
    max-width: 500px;
    width: 100%;
    color: #E5FFE9;
}

/* ===== TEXT ===== */
h1 {
    text-align: center;
    color: #00FF66;
    margin-bottom: 10px;
    font-size: 28px;
    text-shadow: 0 0 10px #00FF66;
}

.subtitle {
    text-align: center;
    color: #9AE6B4;
    margin-bottom: 30px;
    font-size: 14px;
}

/* ===== MIC BUTTON ===== */
.mic-button {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    background: radial-gradient(circle, #00FF66, #1F7A5C);
    border: none;
    color: #022C22;
    font-size: 50px;
    cursor: pointer;
    display: block;
    margin: 0 auto 20px;
    box-shadow: 0 0 30px #00FF66;
    transition: 0.3s;
}

.mic-button:hover {
    transform: scale(1.08);
    box-shadow: 0 0 50px #00FF66;
}

.mic-button.listening {
    animation: pulse 1.4s infinite;
}

/* ===== PULSE ===== */
@keyframes pulse {
    0%,100% { transform: scale(1); }
    50% { transform: scale(1.12); }
}

/* ===== STATUS ===== */
.status {
    text-align: center;
    padding: 15px;
    background: #020617;
    border: 1px solid #00FF66;
    border-radius: 10px;
    margin-bottom: 20px;
    color: #00FF66;
}

/* ===== TRANSCRIPT ===== */
.transcript {
    background: #020617;
    border-radius: 10px;
    padding: 15px;
    margin-bottom: 20px;
    min-height: 80px;
    max-height: 200px;
    overflow-y: auto;
    border: 1px solid #1F7A5C;
}

.user-text {
    color: #00FF66;
    font-weight: 600;
}

.assistant-text {
    color: #1F7A5C;
    font-weight: 600;
}

/* ===== BUTTON ===== */
.btn-clear {
    width: 100%;
    padding: 12px;
    border-radius: 10px;
    border: none;
    background: #0B3D2E;
    color: #00FF66;
    font-weight: 600;
    cursor: pointer;
}

.btn-clear:hover {
    background: #00FF66;
    color: #022C22;
}

/* ===== FEATURES ===== */
.features {
    margin-top: 20px;
    padding: 15px;
    background: #020617;
    border-radius: 10px;
    font-size: 12px;
    border: 1px solid #1F7A5C;
}

.features h3 {
    color: #00FF66;
}

.features li::before {
    content: "‚úì ";
    color: #00FF66;
}
</style>
</head>

<body>
<div class="container">
    <h1>HI, IM PUDIE!</h1>
    <p class="subtitle"> Freshmeat AI Assistant</p>

    <button class="mic-button" id="micButton">üé§</button>
    <div class="status" id="status">Ready to listen...</div>

    <div class="transcript" id="transcript">
        <p style="text-align:center;color:#4ADE80;">Your conversation will appear here...</p>
    </div>

    <button class="btn-clear" onclick="clearTranscript()">Clear History</button>

    <div class="features">
        <h3>What I Can Do</h3>
        <ul>
            <li>Tell time & date</li>
            <li>Calculator</li>
            <li>Tell jokes</li>
            <li>Open websites</li>
        </ul>
    </div>
</div>
<script>
const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
const recognition = new SpeechRecognition();
recognition.lang = 'en-US';

const micButton = document.getElementById('micButton');
const status = document.getElementById('status');
const transcript = document.getElementById('transcript');
let listening = false;

micButton.onclick = () => listening ? recognition.stop() : recognition.start();

recognition.onstart = () => {
    listening = true;
    micButton.classList.add('listening');
    status.textContent = "üé§ Listening...";
};

recognition.onend = () => {
    listening = false;
    micButton.classList.remove('listening');
    status.textContent = "Ready to listen...";
};

recognition.onresult = e => {
    const text = e.results[0][0].transcript;
    addToTranscript('You', text);
    processCommand(text);
};

// ===== Helper para sa transcript =====
function addToTranscript(speaker, message) {
    const p = document.createElement('p');
    p.innerHTML = `<span class="${speaker === 'You' ? 'user-text' : 'assistant-text'}">${speaker}:</span> ${message}`;
    transcript.appendChild(p);
    transcript.scrollTop = transcript.scrollHeight;
}

function speak(message) {
    addToTranscript('Assistant', message);
    const utterance = new SpeechSynthesisUtterance(message);
    utterance.rate = 0.9;
    utterance.pitch = 1;
    utterance.volume = 1;
    speechSynthesis.speak(utterance);
}

function clearTranscript() {
    transcript.innerHTML = "";
}

// ===== Timer / Alarm =====
let activeTimer;

function processCommand(command) {
    const cmd = command.toLowerCase().trim();

    // ===== TIMER =====
    if (cmd.includes('timer for')) {
        const timeMatch = cmd.match(/(\d+)\s*(second|seconds|minute|minutes)/);
        if (timeMatch) {
            let value = parseInt(timeMatch[1]);
            let unit = timeMatch[2].startsWith('second') ? 1000 : 60000;
            speak(`Setting a timer for ${value} ${timeMatch[2]}`);
            
            clearTimeout(activeTimer);
            activeTimer = setTimeout(() => {
                speak(`‚è∞ Timer for ${value} ${timeMatch[2]} is up!`);
            }, value * unit);
        } else {
            speak("I couldn't understand the timer duration.");
        }
        return;
    }

    // ===== ALARM =====
    if (cmd.includes('alarm for')) {
        const timeMatch = cmd.match(/(\d{1,2}):(\d{2})\s*(am|pm)?/);
        if (timeMatch) {
            let hour = parseInt(timeMatch[1]);
            const minute = parseInt(timeMatch[2]);
            const period = timeMatch[3];

            if (period) {
                if (period === 'pm' && hour < 12) hour += 12;
                if (period === 'am' && hour === 12) hour = 0;
            }

            const now = new Date();
            let alarmTime = new Date();
            alarmTime.setHours(hour, minute, 0, 0);
            if (alarmTime <= now) alarmTime.setDate(alarmTime.getDate() + 1);

            const msUntilAlarm = alarmTime - now;
            speak(`Setting an alarm for ${timeMatch[1]}:${timeMatch[2]} ${period || ''}`);
            
            clearTimeout(activeTimer);
            activeTimer = setTimeout(() => {
                speak(`‚è∞ Alarm! It's ${timeMatch[1]}:${timeMatch[2]} now!`);
            }, msUntilAlarm);
        } else {
            speak("I couldn't understand the alarm time.");
        }
        return;
    }

    // ===== JOKE =====
    if (cmd.includes('joke')) {
        const jokes = [
            "Why don't programmers like nature? It has too many bugs! üòÇ",
            "Why did the developer go broke? He used up all his cache!",
            "How do programmers enjoy nature? They log it!"
        ];
        speak(jokes[Math.floor(Math.random() * jokes.length)]);
        return;
    }

    // ===== TIME =====
    if (cmd.includes('time')) {
        const now = new Date();
        const hours = now.getHours();
        const minutes = now.getMinutes().toString().padStart(2,'0');
        speak(`The current time is ${hours}:${minutes}`);
        return;
    }

    // ===== DEFAULT =====
    speak(`I heard you say: ${command}`);
}
</script>
</body>
</html>